# PromptHub 需求文档

> 版本: v0.1.0  
> 更新日期: 2024-11

## 1. 项目概述

### 1.1 项目背景
随着 AI 技术的普及，越来越多的用户需要管理大量的 Prompt（提示词）。现有的解决方案要么依赖云端存储（存在隐私风险），要么功能过于简单。PromptHub 旨在提供一个**本地优先、功能完善**的 Prompt 管理工具。

### 1.2 项目目标
- 提供安全、私密的本地 Prompt 存储
- 支持高效的 Prompt 组织和检索
- 实现版本控制，追踪 Prompt 的演进历史
- 提供变量系统，支持动态 Prompt 模板
- 跨平台支持（Windows、macOS、Linux）

### 1.3 目标用户
- AI 开发者和研究人员
- 内容创作者
- 产品经理和设计师
- 任何频繁使用 AI 工具的用户

---

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 Prompt 管理 (P0 - 必须实现)
| 功能 | 描述 | 状态 |
|------|------|------|
| 创建 Prompt | 支持标题、描述、System Prompt、User Prompt | ✅ 已实现 |
| 编辑 Prompt | 实时编辑，支持自动保存 | ✅ 已实现 |
| 删除 Prompt | 支持单个/批量删除 | ✅ 已实现 |
| 复制 Prompt | 一键复制到剪贴板 | ✅ 已实现 |
| 收藏 Prompt | 快速标记常用 Prompt | ✅ 已实现 |

#### 2.1.2 组织系统 (P0)
| 功能 | 描述 | 状态 |
|------|------|------|
| 文件夹管理 | 创建、编辑、删除文件夹 | ✅ 已实现 |
| 标签系统 | 为 Prompt 添加多个标签 | ✅ 已实现 |
| 搜索功能 | 全文搜索标题、描述、内容 | ✅ 已实现 |
| 筛选功能 | 按文件夹、标签、收藏状态筛选 | ✅ 已实现 |

#### 2.1.3 版本控制 (P1 - 重要)
| 功能 | 描述 | 状态 |
|------|------|------|
| 自动版本保存 | 编辑时自动保存历史版本 | ✅ 已实现 |
| 版本历史查看 | 查看所有历史版本 | ✅ 已实现 |
| 版本回滚 | 恢复到指定历史版本 | ✅ 已实现 |
| 版本对比 | 对比不同版本的差异 | ⏳ 待实现 |

#### 2.1.4 变量系统 (P1)
| 功能 | 描述 | 状态 |
|------|------|------|
| 变量定义 | 使用 `{{变量名}}` 语法定义变量 | ✅ 已实现 |
| 变量类型 | 支持 text、textarea、number、select | ✅ 已实现 |
| 变量填充界面 | 可视化填充变量值 | ⏳ 待实现 |
| 变量默认值 | 设置变量默认值 | ✅ 已实现 |

### 2.2 辅助功能

#### 2.2.1 数据管理 (P1)
| 功能 | 描述 | 状态 |
|------|------|------|
| 数据导出 | 导出为 JSON 格式 | ✅ 已实现 |
| 数据导入 | 从 JSON 文件恢复 | ✅ 已实现 |
| 数据清空 | 清空所有本地数据 | ✅ 已实现 |
| 自动备份 | 定期自动备份数据 | ⏳ 待实现 |

#### 2.2.2 界面定制 (P2 - 可选)
| 功能 | 描述 | 状态 |
|------|------|------|
| 主题切换 | 深色/浅色/跟随系统 | ✅ 已实现 |
| 主题色选择 | 多种莫兰迪色系可选 | ✅ 已实现 |
| 字体大小 | 小/中/大三档可调 | ✅ 已实现 |
| 多语言 | 中文/英文界面 | ✅ 已实现 |

#### 2.2.3 快捷键 (P2)
| 功能 | 描述 | 状态 |
|------|------|------|
| 全局快捷键 | 新建、搜索、设置等 | ✅ 已实现 |
| 编辑器快捷键 | 保存、复制、撤销等 | ✅ 已实现 |
| 自定义快捷键 | 用户自定义快捷键 | ⏳ 待实现 |

### 2.3 未来规划 (P3)
| 功能 | 描述 | 优先级 |
|------|------|--------|
| Prompt 模板市场 | 分享和下载社区 Prompt | 低 |
| 云同步 | 可选的云端同步功能 | 低 |
| 浏览器插件 | 在网页中快速使用 Prompt | 中 |
| AI 测试功能 | 直接测试 Prompt 效果 | 中 |
| 团队协作 | 多人共享 Prompt 库 | 低 |

---

## 3. 非功能需求

### 3.1 性能需求
- 应用启动时间 < 3 秒
- Prompt 列表加载 < 500ms（1000 条以内）
- 搜索响应时间 < 200ms
- 内存占用 < 200MB

### 3.2 安全需求
- 所有数据本地存储，不上传服务器
- 支持数据加密存储（可选）
- 敏感操作需要确认

### 3.3 可用性需求
- 支持 Windows 10+、macOS 10.15+、Ubuntu 20.04+
- 响应式布局，最小窗口 800x600
- 支持键盘导航
- 支持屏幕阅读器（无障碍）

### 3.4 可维护性需求
- 代码覆盖率 > 70%
- 模块化架构，便于扩展
- 完善的错误处理和日志记录

---

## 4. 数据模型

### 4.1 Prompt 数据结构
```typescript
interface Prompt {
  id: string;           // 唯一标识
  title: string;        // 标题
  description?: string; // 描述
  systemPrompt?: string;// System Prompt
  userPrompt: string;   // User Prompt
  variables: Variable[];// 变量列表
  tags: string[];       // 标签
  folderId?: string;    // 所属文件夹
  isFavorite: boolean;  // 是否收藏
  version: number;      // 当前版本号
  usageCount: number;   // 使用次数
  createdAt: string;    // 创建时间
  updatedAt: string;    // 更新时间
}
```

### 4.2 变量数据结构
```typescript
interface Variable {
  name: string;         // 变量名
  type: 'text' | 'textarea' | 'number' | 'select';
  label?: string;       // 显示标签
  defaultValue?: string;// 默认值
  options?: string[];   // 选项（select 类型）
  required: boolean;    // 是否必填
}
```

### 4.3 文件夹数据结构
```typescript
interface Folder {
  id: string;
  name: string;
  icon?: string;        // emoji 图标
  parentId?: string;    // 父文件夹（支持嵌套）
  order: number;        // 排序
  createdAt: string;
  updatedAt: string;
}
```

---

## 5. 用户故事

### 5.1 基础使用场景
1. **作为用户**，我想要创建一个新的 Prompt，以便保存我常用的提示词
2. **作为用户**，我想要搜索已有的 Prompt，以便快速找到需要的内容
3. **作为用户**，我想要一键复制 Prompt，以便粘贴到 AI 工具中使用
4. **作为用户**，我想要收藏常用的 Prompt，以便快速访问

### 5.2 组织管理场景
5. **作为用户**，我想要创建文件夹分类 Prompt，以便更好地组织内容
6. **作为用户**，我想要为 Prompt 添加标签，以便多维度分类
7. **作为用户**，我想要按标签筛选 Prompt，以便快速定位

### 5.3 版本控制场景
8. **作为用户**，我想要查看 Prompt 的历史版本，以便追踪修改记录
9. **作为用户**，我想要回滚到之前的版本，以便恢复误改的内容

### 5.4 数据管理场景
10. **作为用户**，我想要导出所有数据，以便备份或迁移
11. **作为用户**，我想要导入数据，以便恢复备份

---

## 6. 验收标准

### 6.1 功能验收
- [ ] 所有 P0 功能正常工作
- [ ] 所有 P1 功能正常工作
- [ ] 无严重 Bug（阻塞用户使用）

### 6.2 性能验收
- [ ] 启动时间符合要求
- [ ] 操作响应时间符合要求
- [ ] 内存占用符合要求

### 6.3 兼容性验收
- [ ] Windows 平台测试通过
- [ ] macOS 平台测试通过
- [ ] Linux 平台测试通过

---

## 附录

### A. 术语表
| 术语 | 说明 |
|------|------|
| Prompt | AI 提示词，用于引导 AI 生成特定内容 |
| System Prompt | 系统提示词，定义 AI 的角色和行为 |
| User Prompt | 用户提示词，具体的任务指令 |
| Variable | 变量，Prompt 中可动态替换的占位符 |

### B. 参考资料
- [Electron 官方文档](https://www.electronjs.org/docs)
- [React 官方文档](https://react.dev/)
- [Zustand 状态管理](https://zustand-demo.pmnd.rs/)
